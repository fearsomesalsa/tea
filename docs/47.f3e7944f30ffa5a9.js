"use strict";(self.webpackChunktea_project=self.webpackChunktea_project||[]).push([[47],{1047:(k,p,s)=>{s.r(p),s.d(p,{OrderModule:()=>Y});var f=s(6814),g=s(6208),a=s(594),l=s(95),r=s(9468),v=s(9862);let h=(()=>{var u;class n{constructor(t){this.http=t}createOrder(t){return this.http.post("https://testologia.site/order-tea",t)}}return(u=n).\u0275fac=function(t){return new(t||u)(r.LFG(v.eN))},u.\u0275prov=r.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),n})();function Z(u,n){1&u&&(r.TgZ(0,"div",33),r._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f "),r.qZA())}function x(u,n){1&u&&(r.TgZ(0,"div",33),r._uU(1," \u0418\u043c\u044f \u0434\u043e\u043b\u0436\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b "),r.qZA())}function C(u,n){if(1&u&&(r.TgZ(0,"div",31),r.YNc(1,Z,2,0,"div",32),r.YNc(2,x,2,0,"div",32),r.qZA()),2&u){const e=r.oxw(2);let t,o;r.xp6(1),r.Q6J("ngIf",null==(t=e.orderForm.get("name"))||null==t.errors?null:t.errors.required),r.xp6(1),r.Q6J("ngIf",null==(o=e.orderForm.get("name"))||null==o.errors?null:o.errors.pattern)}}function b(u,n){1&u&&(r.TgZ(0,"div",33),r._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0444\u0430\u043c\u0438\u043b\u0438\u044e "),r.qZA())}function F(u,n){1&u&&(r.TgZ(0,"div",33),r._uU(1," \u0424\u0430\u043c\u0438\u043b\u0438\u044f \u0434\u043e\u043b\u0436\u043d\u0430 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b "),r.qZA())}function A(u,n){if(1&u&&(r.TgZ(0,"div",31),r.YNc(1,b,2,0,"div",32),r.YNc(2,F,2,0,"div",32),r.qZA()),2&u){const e=r.oxw(2);let t,o;r.xp6(1),r.Q6J("ngIf",null==(t=e.orderForm.get("last_name"))||null==t.errors?null:t.errors.required),r.xp6(1),r.Q6J("ngIf",null==(o=e.orderForm.get("last_name"))||null==o.errors?null:o.errors.pattern)}}function O(u,n){1&u&&(r.TgZ(0,"div",33),r._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 "),r.qZA())}function T(u,n){1&u&&(r.TgZ(0,"div",33),r._uU(1," \u041d\u043e\u043c\u0435\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0444\u043e\u0440\u043c\u0430\u0442 +99999999999 \u0438\u043b\u0438 99999999999 "),r.qZA())}function I(u,n){if(1&u&&(r.TgZ(0,"div",31),r.YNc(1,O,2,0,"div",32),r.YNc(2,T,2,0,"div",32),r.qZA()),2&u){const e=r.oxw(2);let t,o;r.xp6(1),r.Q6J("ngIf",null==(t=e.orderForm.get("phone"))||null==t.errors?null:t.errors.required),r.xp6(1),r.Q6J("ngIf",null==(o=e.orderForm.get("phone"))||null==o.errors?null:o.errors.pattern)}}function q(u,n){1&u&&(r.TgZ(0,"div",34),r._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0443 "),r.qZA())}function y(u,n){1&u&&(r.TgZ(0,"div",34),r._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043d\u0434\u0435\u043a\u0441 "),r.qZA())}function E(u,n){1&u&&(r.TgZ(0,"div",33),r._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0430\u0434\u0440\u0435\u0441 "),r.qZA())}function N(u,n){1&u&&(r.TgZ(0,"div",33),r._uU(1," \u0410\u0434\u0440\u0435\u0441 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0438\u0437 \u0431\u0443\u043a\u0432, \u0446\u0438\u0444\u0440, \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432, \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 - \u0438 / "),r.qZA())}function U(u,n){if(1&u&&(r.TgZ(0,"div",31),r.YNc(1,E,2,0,"div",32),r.YNc(2,N,2,0,"div",32),r.qZA()),2&u){const e=r.oxw(2);let t,o;r.xp6(1),r.Q6J("ngIf",null==(t=e.orderForm.get("address"))||null==t.errors?null:t.errors.required),r.xp6(1),r.Q6J("ngIf",null==(o=e.orderForm.get("address"))||null==o.errors?null:o.errors.pattern)}}function J(u,n){1&u&&(r.TgZ(0,"span",35),r._uU(1,"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."),r.qZA())}function B(u,n){if(1&u){const e=r.EpF();r.TgZ(0,"form",4)(1,"div",5)(2,"label",6),r._uU(3,"\u0422\u043e\u0432\u0430\u0440"),r.qZA(),r._UZ(4,"input",7),r.qZA(),r.TgZ(5,"div",8)(6,"label",9),r._uU(7,"\u0418\u043c\u044f"),r.qZA(),r._UZ(8,"input",10),r.YNc(9,C,3,2,"div",11),r.qZA(),r.TgZ(10,"div",8)(11,"label",12),r._uU(12,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),r.qZA(),r._UZ(13,"input",13),r.YNc(14,A,3,2,"div",11),r.qZA(),r.TgZ(15,"div",14)(16,"label",15),r._uU(17,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),r.qZA(),r._UZ(18,"input",16),r.YNc(19,I,3,2,"div",11),r.qZA(),r.TgZ(20,"div",17)(21,"label",18),r._uU(22,"\u0421\u0442\u0440\u0430\u043d\u0430"),r.qZA(),r._UZ(23,"input",19),r.YNc(24,q,2,0,"div",20),r.qZA(),r.TgZ(25,"div",17)(26,"label",21),r._uU(27,"\u0418\u043d\u0434\u0435\u043a\u0441"),r.qZA(),r._UZ(28,"input",22),r.YNc(29,y,2,0,"div",20),r.qZA(),r.TgZ(30,"div",5)(31,"label",23),r._uU(32,"\u0410\u0434\u0440\u0435\u0441"),r.qZA(),r._UZ(33,"input",24),r.YNc(34,U,3,2,"div",11),r.qZA(),r.TgZ(35,"div",25)(36,"label",26),r._uU(37,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),r.qZA(),r._UZ(38,"input",27),r.qZA(),r.TgZ(39,"div",28)(40,"button",29),r.NdJ("click",function(){r.CHM(e);const o=r.oxw();return r.KtG(o.createOrder(o.orderForm))}),r._uU(41,"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),r.qZA(),r.YNc(42,J,2,0,"span",30),r.qZA()()}if(2&u){const e=r.oxw();let t,o,m,i,d,c;r.Q6J("formGroup",e.orderForm),r.xp6(9),r.Q6J("ngIf",(null==(t=e.orderForm.get("name"))?null:t.invalid)&&((null==(t=e.orderForm.get("name"))?null:t.touched)||(null==(t=e.orderForm.get("name"))?null:t.dirty))),r.xp6(5),r.Q6J("ngIf",(null==(o=e.orderForm.get("last_name"))?null:o.invalid)&&((null==(o=e.orderForm.get("last_name"))?null:o.touched)||(null==(o=e.orderForm.get("last_name"))?null:o.dirty))),r.xp6(5),r.Q6J("ngIf",(null==(m=e.orderForm.get("phone"))?null:m.invalid)&&((null==(m=e.orderForm.get("phone"))?null:m.touched)||(null==(m=e.orderForm.get("phone"))?null:m.dirty))),r.xp6(5),r.Q6J("ngIf",(null==(i=e.orderForm.get("country"))?null:i.invalid)&&((null==(i=e.orderForm.get("country"))?null:i.touched)||(null==(i=e.orderForm.get("country"))?null:i.dirty))&&(null==(i=e.orderForm.get("country"))||null==i.errors?null:i.errors.required)),r.xp6(5),r.Q6J("ngIf",(null==(d=e.orderForm.get("zip"))?null:d.invalid)&&((null==(d=e.orderForm.get("zip"))?null:d.touched)||(null==(d=e.orderForm.get("zip"))?null:d.dirty))&&(null==(d=e.orderForm.get("zip"))||null==d.errors?null:d.errors.required)),r.xp6(5),r.Q6J("ngIf",(null==(c=e.orderForm.get("address"))?null:c.invalid)&&((null==(c=e.orderForm.get("address"))?null:c.touched)||(null==(c=e.orderForm.get("address"))?null:c.dirty))),r.xp6(6),r.Q6J("disabled",e.btnIsDisabled),r.xp6(2),r.Q6J("ngIf",e.orderError)}}const Q=[{path:"",component:(()=>{var u;class n{constructor(t,o,m){this.activatedRoute=t,this.fb=o,this.orderService=m,this.orderForm=this.fb.group({product:[{value:"",disabled:!0},l.kI.required],name:["",[l.kI.required,l.kI.pattern("[\u0430-\u044f\u0410-\u042f]+")]],last_name:["",[l.kI.required,l.kI.pattern("[\u0430-\u044f\u0410-\u042f]+")]],phone:["",[l.kI.required,l.kI.pattern("^[+]?[0-9]{11}$")]],country:["",l.kI.required],zip:["",l.kI.required],address:["",[l.kI.required,l.kI.pattern("^[0-9\u0430-\u044f\u0410-\u042f-/ ]+$")]],comment:[""]}),this.orderTitle="\u0421\u0434\u0435\u043b\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437",this.formIsShown=!0,this.orderError=!1,this.btnIsDisabled=!1,this.subscriptionQueryParams=null,this.subscriptionOrder=null}ngOnInit(){this.subscriptionQueryParams=this.activatedRoute.queryParams.subscribe(t=>{t.product&&this.orderForm.patchValue({product:t.product})})}createOrder(t){t.valid?(this.btnIsDisabled=!0,this.subscriptionOrder=this.orderService.createOrder(this.orderForm.getRawValue()).subscribe({next:o=>{this.btnIsDisabled=!1,o.success?(this.orderForm.reset(),this.orderTitle="\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!",this.formIsShown=!1):this.showError()},error:o=>{this.btnIsDisabled=!1,this.orderError=!0}})):this.orderError=!0}showError(){this.orderError=!0,setTimeout(()=>{this.orderError=!1},3e3)}ngOnDestroy(){this.subscriptionOrder?.unsubscribe(),this.subscriptionQueryParams?.unsubscribe()}}return(u=n).\u0275fac=function(t){return new(t||u)(r.Y36(a.gz),r.Y36(l.j3),r.Y36(h))},u.\u0275cmp=r.Xpm({type:u,selectors:[["order-component"]],decls:5,vars:2,consts:[[1,"order","text-black","pt-4","pb-5"],[1,"container"],["id","order__title",1,"h2","text-center","fw-bold","mb-5"],["class","row gx-4 gy-3 col-xl-6 col-sm-12 mx-auto",3,"formGroup",4,"ngIf"],[1,"row","gx-4","gy-3","col-xl-6","col-sm-12","mx-auto",3,"formGroup"],[1,"col-12","form-field"],["for","inputProduct",1,"form-label"],["type","text","id","inputProduct","formControlName","product",1,"form-control"],[1,"col-md-4","col-sm-6","form-field"],["for","inputFirstName",1,"form-label"],["type","text","id","inputFirstName","formControlName","name",1,"form-control"],["class","error-message",4,"ngIf"],["for","inputLastName",1,"form-label"],["type","text","id","inputLastName","formControlName","last_name",1,"form-control"],[1,"col-md-4","col-sm-12","form-field"],["for","inputPhone",1,"form-label"],["type","text","id","inputPhone","formControlName","phone",1,"form-control"],[1,"col-md-6","col-sm-12","form-field"],["for","inputCountry",1,"form-label"],["type","text","id","inputCountry","formControlName","country",1,"form-control"],["class","error-message invalid-feedback",4,"ngIf"],["for","inputIndex",1,"form-label"],["type","text","id","inputIndex","formControlName","zip",1,"form-control"],["for","inputAddress",1,"form-label"],["type","text","id","inputAddress","formControlName","address",1,"form-control"],[1,"col-sm-6","col-sm-12","form-field"],["for","inputComment",1,"form-label"],["type","text","id","inputComment","formControlName","comment",1,"form-control"],[1,"col-12","pt-2"],["type","button",1,"btn","btn-primary","px-5",3,"disabled","click"],["class","order-error ms-3 text-danger",4,"ngIf"],[1,"error-message"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],[1,"error-message","invalid-feedback"],[1,"order-error","ms-3","text-danger"]],template:function(t,o){1&t&&(r.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),r._uU(3),r.qZA(),r.YNc(4,B,43,9,"form",3),r.qZA()()),2&t&&(r.xp6(3),r.Oqu(o.orderTitle),r.xp6(1),r.Q6J("ngIf",o.formIsShown))},dependencies:[f.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u],styles:["input.ng-invalid.ng-dirty[_ngcontent-%COMP%], input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:red}.invalid-feedback[_ngcontent-%COMP%]{display:block}.form-field[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{font-size:14px;line-height:1}"]}),n})()}];let _=(()=>{var u;class n{}return(u=n).\u0275fac=function(t){return new(t||u)},u.\u0275mod=r.oAB({type:u}),u.\u0275inj=r.cJS({imports:[a.Bz.forChild(Q),a.Bz]}),n})(),Y=(()=>{var u;class n{}return(u=n).\u0275fac=function(t){return new(t||u)},u.\u0275mod=r.oAB({type:u}),u.\u0275inj=r.cJS({imports:[f.ez,g.m,a.Bz,l.UX,_,_]}),n})()}}]);